import{r as t,j as C}from"./vendor-three-C6pKWlH7.js";import{Z as U}from"./vendor-animation-BNDiNS3R.js";import{S as F,c as d,m as k}from"./index-C0jhhasI.js";U.registerPlugin(F);const q=Object.freeze("ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("")),y=e=>e<=0?0:Math.floor(Math.random()*e);function Z({children:e,className:S,duration:f=800,delay:a=0,as:h="span",startOnView:m=!1,animateOnHover:j=!0,characterSet:i=q}){const M=e.split(""),[D,p]=t.useState(M),[l,c]=t.useState(!1),s=t.useRef(0),r=t.useRef(null),o=t.useRef(null),g=t.useRef(null);t.useEffect(()=>{p(e.split(""))},[e]);const T=()=>{j&&!l&&(s.current=0,c(!0))};t.useEffect(()=>{if(!m)return;const n=g.current;if(!n)return;const u=F.create({trigger:n,start:"top 85%",end:"bottom 15%",once:!0,onEnter:()=>{a>0?o.current=setTimeout(()=>{s.current=0,c(!0),o.current=null},a):(s.current=0,c(!0))}});return()=>{u.kill(),o.current!=null&&(clearTimeout(o.current),o.current=null)}},[a,m]),t.useEffect(()=>{if(!l)return;const n=e.length,u=performance.now(),R=I=>{const b=I-u,E=Math.min(b/f,1);s.current=E*n,p(N=>N.map((A,x)=>A===" "?A:x<s.current?e[x]:i[y(i.length)])),E<1?r.current=requestAnimationFrame(R):(c(!1),r.current=null)};return r.current=requestAnimationFrame(R),()=>{r.current!=null&&(cancelAnimationFrame(r.current),r.current=null)}},[e,f,l,i]);const H=h;return C.jsx(H,{ref:g,onMouseEnter:T,onFocus:T,className:d("inline-flex cursor-pointer",S),children:D.map((n,u)=>C.jsx(k.span,{className:"inline-block will-change-transform","aria-hidden":!0,children:n===" "?"Â ":n.toUpperCase()},u))})}export{Z as H};
