import{r as i}from"./vendor-three-C6pKWlH7.js";import{u as y,M as A}from"./index-ixh42yrl.js";import{a as m,u as w}from"./use-combine-values-vn9MbPo4.js";import{a1 as l,a2 as C,a3 as S,b,a4 as k}from"./vendor-animation-BNDiNS3R.js";function x(t){l.current=[],t();const e=m(l.current,t);return l.current=void 0,e}function V(t,e,n,r){if(typeof t=="function")return x(t);if(n!==void 0&&!Array.isArray(n)&&typeof e!="function")return E(t,e,n,r);const o=typeof e=="function"?e:C(e,n,r),c=Array.isArray(t)?d(t,o):d([t],([a])=>o(a)),f=Array.isArray(t)?void 0:t.accelerate;return f&&!f.isTransformed&&typeof e!="function"&&Array.isArray(n)&&r?.clamp!==!1&&(c.accelerate={...f,times:e,keyframes:n,isTransformed:!0}),c}function d(t,e){const n=y(()=>[]);return m(t,()=>{n.length=0;const r=t.length;for(let s=0;s<r;s++)n[s]=t[s].get();return e(n)})}function E(t,e,n,r){const s=y(()=>Object.keys(n)),u=y(()=>({}));for(const o of s)u[o]=V(t,e,n[o],r);return u}function I(t,e={}){const{isStatic:n}=i.useContext(A),r=()=>b(t)?t.get():t;if(n)return V(r);const s=w(r());return i.useInsertionEffect(()=>S(s,t,e),[s,JSON.stringify(e)]),s}function J(t,e={}){return I(t,{type:"spring",...e})}function L(t,{root:e,margin:n,amount:r,once:s=!1,initial:u=!1}={}){const[o,c]=i.useState(u);return i.useEffect(()=>{if(!t.current||s&&o)return;const f=()=>(c(!0),s?void 0:()=>c(!1)),a={root:e&&e.current||void 0,margin:n,amount:r};return k(t.current,f,a)},[e,t,n,s,r]),o}export{L as a,J as b,V as u};
